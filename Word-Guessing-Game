# Still in progress
import random
wordlistfile = open('wordlist.txt','r')
wordlist = wordlistfile.read()
wordlistfile.close()

allwords = wordlist.split('\n')

word = random.choice(allwords)
guesses = 7
progress = []

for a in word:
    progress.append('_')

display = ''.join(progress)

while guesses > 0:
    print('\n' + 'Guesses left: ' + str(guesses))
    print('Word: ' + display + '\n')

    if (display == word) is False:
        guess = str(input('Make a guess: '))

        if len(guess) == 1:
            check = [a for a in range(len(word)) if word.startswith(guess, a)]

            for a in check:
                progress[a] = guess

            display = ''.join(progress)
            guesses = guesses - 1
        elif guess == word:
            print('You guessed correctly, you win!')
            break
        else:
            guesses = guesses - 1
    else:
        print('You win!')
        break
else:
    print('No guesses left, game over')
    print('The word was:' + word)
